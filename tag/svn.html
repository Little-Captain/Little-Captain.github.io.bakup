<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Little Captain's Blog - SVN</title>
    <meta name="description" content="">
    <meta name="author" content="Little Captain">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://littlecaptain.net/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="http://littlecaptain.net/theme/bootstrap.min.css" rel="stylesheet">
    <link href="http://littlecaptain.net/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="http://littlecaptain.net/theme/local.css" rel="stylesheet">
    <link href="http://littlecaptain.net/theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="http://littlecaptain.net">Little Captain's Blog</a>

        <div class="nav-collapse">
        <ul class="nav">
            
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="http://littlecaptain.net/svn-ji-ben-cao-zuo.html"><h1>SVN 基本操作</h1></a>
Tue 16 May 2017

by <a class="url fn" href="http://littlecaptain.net/author/little-captain.html">Little Captain</a>
 


 
        </div>
        
        <div><p><em>基本操作原理图</em></p>
<p><img alt="" src="../assets/images/SVN/基本操作.png"/></p>
<p><em>SVN版本管理架构模式</em></p>
<p><img alt="" src="../assets/images/SVN/SVN架构示意图.png"/></p>
<h1 id="svnke-hu-duan-chang-yong-ming-ling">SVN客户端常用命令</h1>
<div class="highlight"><pre><span></span><span class="c1"># 下载服务器的代码到本地 （简写svn co）</span>
svn checkout
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 将改动的文件提交到服务器（简写svn ci）</span>
svn commit
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 更新服务器的代码到本地 （简写svn up）</span>
svn update
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 向本地的版本控制库中添加新文件</span>
svn add
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 从本地的版本控制库中删除文件（简写svn del、svn rm）</span>
svn delete
svn remove
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 移动文件或者目录或文件更名</span>
svn move
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 创建纳入版本控制下的新目录</span>
svn mkdir
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 撤销之前的一切修改</span>
svn revert
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 将两个版本之间的差异合并到当前文件</span>
svn merge
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 查看文件的详细信息</span>
svn info
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 查看不同版本的区别</span>
svn diff
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 查看日志信息</span>
svn log
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 列出版本库下的文件和目录列表</span>
svn list
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 查看文件状态（简写svn st）</span>
svn status
<span class="c1"># 状态说明</span>
<span class="s1">' '</span> 没有修改
<span class="s1">'A'</span> 被添加到本地代码仓库
<span class="s1">'C'</span> 冲突
<span class="s1">'D'</span> 被删除
<span class="s1">'I'</span> 被忽略
<span class="s1">'M'</span> 被修改
<span class="s1">'R'</span> 被替换
<span class="s1">'X'</span> 外部定义创建的版本目录
<span class="s1">'?'</span> 文件没有被添加到本地版本库内
<span class="s1">'!'</span> 文件丢失或者不完整（不是通过svn命令删除的文件）
<span class="s1">'~'</span> 受控文件被其他文件阻隔
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 获取帮助信息（比如svn help ci）</span>
svn <span class="nb">help</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 加锁</span>
svn lock
</pre></div>
<div class="highlight"><pre><span></span><span class="c1"># 解锁</span>
svn unlock
</pre></div>
<h1 id="chang-jian-cao-zuo-xiang-xi-jie-xi">常见操作详细解析</h1>
<h2 id="jian-chu">检出</h2>
<div class="highlight"><pre><span></span><span class="c1"># 将项目检出（下载） 至本地</span>
<span class="c1"># 如果省略路径，就下载到命令行当前所在的路径</span>
svn checkout URL  <span class="o">[</span>PATH<span class="o">]</span>
svn co URL  <span class="o">[</span>PATH<span class="o">]</span>
<span class="c1"># 常用方式</span>
svn checkout URL --username<span class="o">=</span>xxx --password<span class="o">=</span>xxx
</pre></div>
<h2 id="ti-jiao">提交</h2>
<div class="highlight"><pre><span></span><span class="c1"># 将改动过的文件提交至服务器</span>
<span class="c1"># 如果省略路径，将命令行所在路径中所有改动过的文件提交到服务器</span>
svn commit  -m <span class="s2">"注释"</span>  <span class="o">[</span>PATH<span class="o">]</span>
svn ci  -m <span class="s2">"注释"</span>  <span class="o">[</span>PATH<span class="o">]</span>
</pre></div>
<h2 id="tian-jia">添加</h2>
<div class="highlight"><pre><span></span><span class="c1"># 提交一个新建的文件到服务器，需要2个步骤</span>
<span class="c1"># 添加新建的文件到本地的版本控制库中：</span>
svn add PATH

<span class="c1"># 提交刚才的添加操作到服务器：</span>
svn commit

<span class="c1"># 如果直接提交一个没有添加到本地版本控制库中的文件，会报下面的错误</span>
is not a working copy
</pre></div>
<h2 id="shan-chu">删除</h2>
<div class="highlight"><pre><span></span><span class="c1"># 删除服务器上的某个文件，需要做2个步骤</span>
<span class="c1"># 将文件从本地的版本控制库中移除：</span>
svn delete PATH
<span class="c1"># 或</span>
svn remove PATH

<span class="c1"># 提交刚才的删除操作到服务器：</span>
svn commit
</pre></div>
<h2 id="geng-xin">更新</h2>
<div class="highlight"><pre><span></span><span class="c1"># 将服务器的最新代码更新到本地</span>
<span class="c1"># 如果省略路径，就更新命令行所在路径的所有内容</span>
svn update <span class="o">[</span>PATH<span class="o">]</span>
<span class="c1"># 将文件恢复至某个版本</span>
svn update -r 版本号 <span class="o">[</span>PATH<span class="o">]</span>
</pre></div>
<h1 id="shi-yong-svnzong-jie_1">使用SVN总结</h1>
<ul>
<li>只要有改动就 <code>commit</code></li>
<li>只要有提交就 <code>update</code></li>
</ul>
<h2 id="guan-yu-ban-ben-hui-tui">关于版本回退</h2>
<div class="highlight"><pre><span></span><span class="c1"># 不小心写错了很多东西，想撤销所写的东西（还未把修改提交到服务器）</span>
svn revert

<span class="c1"># 不小心删错了文件，想把文件恢复回来（还未把删除提交到服务器）</span>
svn revert

<span class="c1"># 不小心写错了很多东西，想撤销所写的东西（已经把修改提交到服务器）</span>
svn update -r 版本号

<span class="c1"># 不小心删错了文件，想把文件恢复回来（已经把删除提交到服务器）</span>
svn update -r 版本号
</pre></div></div>
        <hr />
    </div>
		
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="http://littlecaptain.net/tag/svn.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Next</a></li>

</ul>
</div>
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="http://littlecaptain.net/archives.html">Archives</a>
                <li><a href="http://littlecaptain.net/tags.html">Tags</a>




            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="http://littlecaptain.net/category/c.html">C++</a></li>
                <li><a href="http://littlecaptain.net/category/git.html">git</a></li>
                <li><a href="http://littlecaptain.net/category/ios.html">iOS</a></li>
                <li><a href="http://littlecaptain.net/category/java.html">Java</a></li>
                <li><a href="http://littlecaptain.net/category/ji-suan-ji-wang-luo.html">计算机网络</a></li>
                <li><a href="http://littlecaptain.net/category/linux.html">Linux</a></li>
                <li><a href="http://littlecaptain.net/category/php.html">PHP</a></li>
                <li><a href="http://littlecaptain.net/category/pyqt.html">PyQt</a></li>
                <li><a href="http://littlecaptain.net/category/python.html">Python</a></li>
                <li><a href="http://littlecaptain.net/category/shell.html">shell</a></li>
                <li><a href="http://littlecaptain.net/category/svn.html">SVN</a></li>
                <li><a href="http://littlecaptain.net/category/tools.html">Tools</a></li>
                <li><a href="http://littlecaptain.net/category/xcode.html">Xcode</a></li>
                <li><a href="http://littlecaptain.net/category/za-tan.html">杂谈</a></li>
                <li><a href="http://littlecaptain.net/category/zheng-ze-biao-da-shi.html">正则表达式</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="https://github.com/Little-Captain">Github</a></li>
            </ul>
            </div>



        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="http://littlecaptain.net">Little Captain's Blog</a> &copy; Little Captain 2017</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://littlecaptain.net/theme/bootstrap-collapse.js"></script>
 
</body>
</html>